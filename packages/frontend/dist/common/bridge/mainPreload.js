var a=['setUpEnvironment','sendEvent','AuthRequestDeactivate','RequestCloseAllCaptchaWindows','RequestCreateNewWindow','captcha','RequestRegisterTaskEventHandler','once','push','handleEvent','error','Unable\x20to\x20Register\x20for\x20Task\x20Events!','RequestDeregisterTaskEventHandler','removeEvent','filter','forEach','RequestStopTasks','Random','Shipping\x20Rates\x20Runner\x20has\x20already\x20been\x20started!','promise','type','ShippingRates','rates','selectedRate','selected','cancel','task','Runner\x20was\x20cancelled','reject','RequestAddProxies','RequestRemoveProxies','RequestWebhookUpdate','RequestWebhookTest','loaded','Bridge','@nebula/task-runner-built','shopify','../constants','../../_electron/env','./index'];(function(c,d){var e=function(f){while(--f){c['push'](c['shift']());}};e(++d);}(a,0x113));var b=function(c,d){c=c-0x0;var e=a[c];return e;};const {ipcRenderer}=require('electron');const {TaskRunnerTypes}=require(b('0x0'))[b('0x1')];const IPCKeys=require(b('0x2'));const nebulaEnv=require(b('0x3'));const {base,util}=require(b('0x4'));nebulaEnv[b('0x5')]();let srrRequest=null;let handlers=[];const SRR_ID=0x3e8;const taskEventHandler=(...c)=>handlers['forEach'](d=>d(...c));const _checkForUpdates=()=>{util['sendEvent'](IPCKeys['RequestCheckForUpdates']);};const _deactivate=()=>{util[b('0x6')](IPCKeys[b('0x7')]);};const _closeAllCaptchaWindows=()=>{util['sendEvent'](IPCKeys[b('0x8')]);};const _launchCaptchaHarvester=e=>{util['sendEvent'](IPCKeys[b('0x9')],b('0xa'),e);};const _registerForTaskEvents=f=>{if(handlers['length']>0x0){handlers['push'](f);}else{util[b('0x6')](IPCKeys[b('0xb')]);ipcRenderer[b('0xc')](IPCKeys['RequestRegisterTaskEventHandler'],(g,h)=>{if(h){handlers[b('0xd')](f);util[b('0xe')](h,taskEventHandler);}else{console[b('0xf')](b('0x10'));}});}};const _deregisterForTaskEvents=i=>{if(handlers['length']===0x1){util['sendEvent'](IPCKeys['RequestDeregisterTaskEventHandler']);ipcRenderer[b('0xc')](IPCKeys[b('0x11')],(j,k)=>{if(k){util[b('0x12')](k,taskEventHandler);handlers=[];}else{console[b('0xf')]('Unable\x20to\x20Deregister\x20from\x20Task\x20Events!');}});}handlers=handlers[b('0x13')](l=>l!==i);};window['onbeforeunload']=()=>{handlers[b('0x14')](m=>_deregisterForTaskEvents(m));};const _startTasks=(n,o)=>{util[b('0x6')](IPCKeys['RequestStartTasks'],n,o);};const _stopTasks=p=>{util[b('0x6')](IPCKeys[b('0x15')],p);};const _startShippingRatesRunner=q=>{const r={'task':{...q,'id':SRR_ID,'sizes':[b('0x16')]},'cancel':()=>{},'promise':null};if(srrRequest){return Promise['reject'](new Error(b('0x17')));}r[b('0x18')]=new Promise((s,t)=>{const u={};const v=(w,x)=>{if(x[SRR_ID]&&x[SRR_ID][b('0x19')]===TaskRunnerTypes[b('0x1a')]){u[b('0x1b')]=x[SRR_ID][b('0x1b')]||u[b('0x1b')];u[b('0x1c')]=x[SRR_ID][b('0x1d')]||u[b('0x1c')];if(x[SRR_ID]['done']){_deregisterForTaskEvents(v);if(!u[b('0x1b')]||!u['selectedRate']){t(new Error('Data\x20was\x20not\x20provided!'));}else{s(u);}srrRequest=null;}}};r[b('0x1e')]=()=>{_deregisterForTaskEvents(v);_stopTasks(r[b('0x1f')]);srrRequest=null;t(new Error(b('0x20')));};srrRequest=r;_registerForTaskEvents(v);_startTasks(r[b('0x1f')],{'type':TaskRunnerTypes['ShippingRates']});});return r[b('0x18')];};const _stopShippingRatesRunner=()=>{if(!srrRequest){return Promise[b('0x21')](new Error('No\x20SRR\x20Running'));}srrRequest['cancel']();srrRequest=null;return Promise['resolve']();};const _addProxies=y=>{util[b('0x6')](IPCKeys[b('0x22')],y);};const _removeProxies=z=>{util[b('0x6')](IPCKeys[b('0x23')],z);};const _changeDelay=(A,B)=>{util[b('0x6')](IPCKeys['RequestChangeDelay'],A,B);};const _updateHook=(C,D)=>{util[b('0x6')](IPCKeys[b('0x24')],C,D);};const _sendWebhookTestMessage=(E,F)=>{util[b('0x6')](IPCKeys[b('0x25')],E,F);};const _setTheme=G=>{util[b('0x6')](IPCKeys['ChangeTheme'],G);};process[b('0xc')](b('0x26'),()=>{window[b('0x27')]=window['Bridge']||{...base,'checkForUpdates':_checkForUpdates,'launchCaptchaHarvester':_launchCaptchaHarvester,'setTheme':_setTheme,'startShippingRatesRunner':_startShippingRatesRunner,'stopShippingRatesRunner':_stopShippingRatesRunner,'closeAllCaptchaWindows':_closeAllCaptchaWindows,'deactivate':_deactivate,'registerForTaskEvents':_registerForTaskEvents,'deregisterForTaskEvents':_deregisterForTaskEvents,'startTasks':_startTasks,'stopTasks':_stopTasks,'addProxies':_addProxies,'removeProxies':_removeProxies,'changeDelay':_changeDelay,'updateHook':_updateHook,'sendWebhookTestMessage':_sendWebhookTestMessage};});