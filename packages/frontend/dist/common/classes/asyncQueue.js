var a=['backlogLength','_backlog','_waitQueue','length','insert','pop','request','fulfilled','value','cancel','resolve','_startExpirationInterval','next','pending','promise','cancelled','reason','filter','unshift','clear','_stopExpirationInterval','destroy','status','destroyed','Queue\x20was\x20destroyed','addExpirationFilter','intervalId','exports','_expiration'];(function(c,d){var e=function(f){while(--f){c['push'](c['shift']());}};e(++d);}(a,0x104));var b=function(c,d){c=c-0x0;var e=a[c];return e;};class AsyncQueue{constructor(){this['_backlog']=[];this['_waitQueue']=[];this[b('0x0')]={'thisArg':null,'filterFunc':null,'interval':null,'intervalId':null,'onUpdate':null};}get[b('0x1')](){return this[b('0x2')]['length'];}get['lineLength'](){return this[b('0x3')][b('0x4')];}[b('0x5')](c){if(this[b('0x3')][b('0x4')]){const d=this[b('0x3')][b('0x6')]();d[b('0x7')]['status']=b('0x8');d[b('0x7')][b('0x9')]=c;d[b('0x7')][b('0xa')]=()=>{};d[b('0xb')](c);}else{this[b('0x2')]['unshift'](c);this[b('0xc')]();}return this[b('0x2')][b('0x4')];}[b('0xd')](){const e={'status':b('0xe'),'cancel':()=>{},'promise':null,'reason':'','value':null};if(!this[b('0x3')][b('0x4')]&&this[b('0x2')][b('0x4')]){const f=this[b('0x2')][b('0x6')]();const g=Promise[b('0xb')](f);return{...e,'status':b('0x8'),'promise':g,'value':f};}e[b('0xf')]=new Promise((h,i)=>{e[b('0xa')]=j=>{e['status']=b('0x10');e[b('0x11')]=j;this[b('0x3')]=this[b('0x3')][b('0x12')](k=>k[b('0x7')]!==e);i(j);};this[b('0x3')][b('0x13')]({'resolve':h,'reject':i,'request':e});});return e;}[b('0x14')](){this['_backlog']=[];this[b('0x15')]();}[b('0x16')](){this[b('0x3')]['forEach'](({reject,request})=>{request[b('0x17')]=b('0x18');request[b('0x11')]=b('0x19');reject(b('0x19'));});this[b('0x3')]=[];this[b('0x14')]();}[b('0x1a')](l,m=0x3e8,n,o){if(this[b('0x0')][b('0x1b')]){clearInterval(this['_expiration'][b('0x1b')]);}this[b('0x0')]={'filterFunc':l,'thisArg':o,'interval':m,'onUpdate':n,'intervalId':null};if(this[b('0x1')]>0x0){this[b('0xc')]();}}[b('0xc')](){const {interval,intervalId,filterFunc:func}=this[b('0x0')];if(intervalId||!func){return;}this[b('0x0')][b('0x1b')]=setInterval(()=>{const {filterFunc,thisArg,onUpdate}=this['_expiration'];this[b('0x2')]=this[b('0x2')][b('0x12')](filterFunc,thisArg);if(this[b('0x1')]===0x0){this[b('0x15')]();}if(onUpdate){onUpdate['call'](thisArg);}},interval);}[b('0x15')](){const {intervalId}=this[b('0x0')];if(!intervalId){return;}clearInterval(intervalId);this['_expiration'][b('0x1b')]=null;}}module[b('0x1c')]=AsyncQueue;