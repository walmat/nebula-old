var a=['env','NEBULA_RUNNER_CONCURRENCY_TYPE','_taskManager','process','workers','log','[WARNING]:\x20Web\x20Workers\x20are\x20not\x20supported\x20in\x20this\x20environment!\x20Falling\x20back\x20to\x20multi-process\x20manager...','_events','StartHarvest','send','StopHarvest','RequestStopHarvestCaptcha','RequestAbortAllTasksForClose','abortAllTasks','RegisterTaskEventHandler','registerForTaskEvents','_taskEventHandler','_taskEventMessageSender','DeregisterTaskEventHandler','deregisterForTaskEvents','RequestStartTasks','_onStartTasksRequest','bind','_onStopTasksRequest','RequestAddProxies','_onAddProxiesRequest','_onRemoveProxiesRequest','RequestChangeDelay','HarvestCaptcha','RequestWebhookUpdate','_onRequestWebhookUpdate','RequestWebhookTest','stopAll','_onHarvestToken','Harvesting\x20Token:\x20','\x0aRunner:\x20','\x0akey:\x20','startAll','proxyManager','registerAll','_onChangeDelayRequest','changeDelay','updateHook','_onRequestWebhookTest','testWebhook','once','loaded','electron','@nebula/task-runner-built','shopify','../common/constants','../_electron/env','setUpEnvironment','statusMessageBuffer','_messageInterval'];(function(c,d){var e=function(f){while(--f){c['push'](c['shift']());}};e(++d);}(a,0xd4));var b=function(c,d){c=c-0x0;var e=a[c];return e;};const {ipcRenderer}=require(b('0x0'));const {TaskManager,SplitWebWorkerTaskManager,SplitProcessTaskManager}=require(b('0x1'))[b('0x2')];const IPCKeys=require(b('0x3'));const nebulaEnv=require(b('0x4'));nebulaEnv[b('0x5')]();const _TASK_EVENT_KEY='TaskEventKey';class TaskManagerAdapter{constructor(c){this[b('0x6')]={};this[b('0x7')]=null;switch(process[b('0x8')][b('0x9')]){case'single':{this[b('0xa')]=new TaskManager(c);break;}case b('0xb'):{this['_taskManager']=new SplitProcessTaskManager(c);break;}case b('0xc'):{this[b('0xa')]=new SplitWebWorkerTaskManager(c);break;}default:{try{this['_taskManager']=new SplitWebWorkerTaskManager(c);}catch(d){console[b('0xd')](b('0xe'));this[b('0xa')]=new SplitProcessTaskManager(c);}break;}}this['_taskEventHandler']=(e,f)=>{if(f){const g=this['statusMessageBuffer'][e];if(!g){this[b('0x6')][e]=f;}else{this[b('0x6')][e]={...g,...f};}}};this['_taskEventMessageSender']=()=>{if(this[b('0x6')]){ipcRenderer['send'](_TASK_EVENT_KEY,this[b('0x6')]);this[b('0x6')]={};}};this[b('0xa')][b('0xf')]['on'](TaskManager['Events'][b('0x10')],(...h)=>ipcRenderer[b('0x11')](IPCKeys['RequestStartHarvestCaptcha'],...h));this['_taskManager'][b('0xf')]['on'](TaskManager['Events'][b('0x12')],(...i)=>ipcRenderer[b('0x11')](IPCKeys[b('0x13')],...i));ipcRenderer['on'](IPCKeys[b('0x14')],async()=>{await this[b('0x15')]();ipcRenderer[b('0x11')](IPCKeys['RequestAbortAllTasksForClose']);});ipcRenderer['on'](IPCKeys[b('0x16')],()=>{if(this['_taskManager']){this[b('0xa')][b('0x17')](this[b('0x18')]);if(!this[b('0x7')]){this[b('0x7')]=setInterval(this[b('0x19')],0x5dc);}}});ipcRenderer['on'](IPCKeys[b('0x1a')],()=>{if(this['_taskManager']){this[b('0xa')][b('0x1b')](this[b('0x18')]);if(this[b('0x7')]){clearInterval(this[b('0x7')]);}}});ipcRenderer['on'](IPCKeys[b('0x1c')],this[b('0x1d')][b('0x1e')](this));ipcRenderer['on'](IPCKeys['RequestStopTasks'],this[b('0x1f')]['bind'](this));ipcRenderer['on'](IPCKeys[b('0x20')],this[b('0x21')][b('0x1e')](this));ipcRenderer['on'](IPCKeys['RequestRemoveProxies'],this[b('0x22')]['bind'](this));ipcRenderer['on'](IPCKeys[b('0x23')],this['_onChangeDelayRequest']['bind'](this));ipcRenderer['on'](IPCKeys[b('0x24')],this['_onHarvestToken']['bind'](this));ipcRenderer['on'](IPCKeys[b('0x25')],this[b('0x26')][b('0x1e')](this));ipcRenderer['on'](IPCKeys[b('0x27')],this['_onRequestWebhookTest'][b('0x1e')](this));}async[b('0x15')](){await this['_taskManager'][b('0x28')]([],{'force':!![],'wait':!![]});}[b('0x29')](j,k,l,m){console[b('0xd')](b('0x2a')+l+b('0x2b')+k+b('0x2c')+m);this['_taskManager']['harvestCaptchaToken'](k,l);}['_onStartTasksRequest'](n,o,p){if(o instanceof Array){this[b('0xa')][b('0x2d')](o,p);}else{this['_taskManager']['start'](o,p);}}[b('0x1f')](q,r){if(r instanceof Array){this[b('0xa')][b('0x28')](r);}else{this[b('0xa')]['stop'](r);}}[b('0x21')](s,t){this[b('0xa')][b('0x2e')][b('0x2f')](t);}['_onRemoveProxiesRequest'](u,v){this[b('0xa')][b('0x2e')]['deregisterAll'](v);}[b('0x30')](w,x,y){this['_taskManager'][b('0x31')](x,y);}[b('0x26')](z,A,B){this[b('0xa')][b('0x32')](A,B);}[b('0x33')](C,D,E){this[b('0xa')][b('0x34')](D,E);}}process[b('0x35')](b('0x36'),()=>{let F=null;ipcRenderer[b('0x35')]('LOG_PATH',(G,H)=>{console['log']('received\x20log\x20path...');console[b('0xd')](ipcRenderer);F=new TaskManagerAdapter(H);});});